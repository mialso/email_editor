!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EmailEditor=t():e.EmailEditor=t()}(window,(function(){return function(e){var t=window.webpackHotUpdateEmailEditor;window.webpackHotUpdateEmailEditor=function(e,n){!function(e,t){if(!g[e]||!b[e])return;for(var n in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(m[n]=t[n]);0==--E&&0===y&&_()}(e,n),t&&t(e,n)};var n,r=!0,o="b4b777de7ae7ea967519",i={},a=[],d=[];function c(e){var t=A[e];if(!t)return j;var r=function(r){return t.hot.active?(A[r]?-1===A[r].parents.indexOf(e)&&A[r].parents.push(e):(a=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),j(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var i in j)Object.prototype.hasOwnProperty.call(j,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===u&&p("prepare"),y++,j.e(e).then(t,(function(e){throw t(),e}));function t(){y--,"prepare"===u&&(v[e]||O(e),0===y&&0===E&&_())}},r.t=function(e,t){return 1&t&&(e=r(e)),j.t(e,-2&t)},r}function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:w,apply:S,status:function(e){if(!e)return u;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:i[e]};return n=void 0,t}var s=[],u="idle";function p(e){u=e;for(var t=0;t<s.length;t++)s[t].call(null,e)}var f,m,h,E=0,y=0,v={},b={},g={};function I(e){return+e+""===e?+e:e}function w(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return r=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=j.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p("idle"),null;b={},v={},g=e.c,h=e.h,p("prepare");var t=new Promise((function(e,t){f={resolve:e,reject:t}}));m={};return O(0),"prepare"===u&&0===y&&0===E&&_(),t}));var t}function O(e){g[e]?(b[e]=!0,E++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=j.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):v[e]=!0}function _(){p("ready");var e=f;if(f=null,e)if(r)Promise.resolve().then((function(){return S(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&t.push(I(n));e.resolve(t)}}function S(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var n,r,d,c,l;function s(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((c=A[i])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var d=0;d<c.parents.length;d++){var l=c.parents[d],s=A[l];if(s){if(s.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([l]),moduleId:i,parentId:l};-1===t.indexOf(l)&&(s.hot._acceptedDependencies[i]?(n[l]||(n[l]=[]),f(n[l],[i])):(delete n[l],t.push(l),r.push({chain:a.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var E={},y=[],v={},b=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var O;l=I(w);var _=!1,S=!1,D=!1,x="";switch((O=m[w]?s(l):{type:"disposed",moduleId:w}).chain&&(x="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(_=new Error("Aborted because of self decline: "+O.moduleId+x));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(_=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+x));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(_=new Error("Aborted because "+l+" is not accepted"+x));break;case"accepted":t.onAccepted&&t.onAccepted(O),S=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),D=!0;break;default:throw new Error("Unexception type "+O.type)}if(_)return p("abort"),Promise.reject(_);if(S)for(l in v[l]=m[l],f(y,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,l)&&(E[l]||(E[l]=[]),f(E[l],O.outdatedDependencies[l]));D&&(f(y,[O.moduleId]),v[l]=b)}var P,L=[];for(r=0;r<y.length;r++)l=y[r],A[l]&&A[l].hot._selfAccepted&&v[l]!==b&&L.push({module:l,errorHandler:A[l].hot._selfAccepted});p("dispose"),Object.keys(g).forEach((function(e){!1===g[e]&&function(e){delete installedChunks[e]}(e)}));for(var M,k,$=y.slice();$.length>0;)if(l=$.pop(),c=A[l]){var H={},R=c.hot._disposeHandlers;for(d=0;d<R.length;d++)(n=R[d])(H);for(i[l]=H,c.hot.active=!1,delete A[l],delete E[l],d=0;d<c.children.length;d++){var T=A[c.children[d]];T&&((P=T.parents.indexOf(l))>=0&&T.parents.splice(P,1))}}for(l in E)if(Object.prototype.hasOwnProperty.call(E,l)&&(c=A[l]))for(k=E[l],d=0;d<k.length;d++)M=k[d],(P=c.children.indexOf(M))>=0&&c.children.splice(P,1);for(l in p("apply"),o=h,v)Object.prototype.hasOwnProperty.call(v,l)&&(e[l]=v[l]);var q=null;for(l in E)if(Object.prototype.hasOwnProperty.call(E,l)&&(c=A[l])){k=E[l];var C=[];for(r=0;r<k.length;r++)if(M=k[r],n=c.hot._acceptedDependencies[M]){if(-1!==C.indexOf(n))continue;C.push(n)}for(r=0;r<C.length;r++){n=C[r];try{n(k)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:k[r],error:e}),t.ignoreErrored||q||(q=e)}}}for(r=0;r<L.length;r++){var U=L[r];l=U.module,a=[l];try{j(l)}catch(e){if("function"==typeof U.errorHandler)try{U.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||q||(q=n),q||(q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||q||(q=e)}}return q?(p("fail"),Promise.reject(q)):(p("idle"),new Promise((function(e){e(y)})))}var A={};function j(t){if(A[t])return A[t].exports;var n=A[t]={i:t,l:!1,exports:{},hot:l(t),parents:(d=a,a=[],d),children:[]};return e[t].call(n.exports,n,n.exports,c(t)),n.l=!0,n.exports}return j.m=e,j.c=A,j.d=function(e,t,n){j.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},j.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},j.t=function(e,t){if(1&t&&(e=j(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(j.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)j.d(n,r,function(t){return e[t]}.bind(null,r));return n},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,"a",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p="",j.h=function(){return o},c(1)(j.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);const r=e=>({type:"CREATE_EMAIL",payload:e}),o=e=>({type:"CREATE_EMAILS_FROM_ARRAY",payload:e});function i(...e){return Array.isArray(e)&&e.length?1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n))):e=>e}function a(e){const[t,n]=e.split("@");return!(!t||!n)}const d={emailIds:[],emailById:{},inputValue:""},c=e=>e.emailIds.filter(a),l=e=>t=>{const n=e.trim();if(!n||(e=>t=>{const{emailById:n}=t;return Object.values(n).reduce((t,n)=>t||n.string===e,!1)})(n)(t))return{...t,inputValue:""};const r=function(e){const t=e,[n,r]=e.split("@");return{id:t,string:e,localPart:n,domain:r}}(n);return{inputValue:"",emailIds:t.emailIds.concat(r.id),emailById:{[r.id]:r,...t.emailById}}},s=e=>t=>{const n=e();switch(t.type){case"UPDATE_INPUT":return(a=t.payload,e=>({...e,inputValue:a}))(n);case"CREATE_EMAIL":return l(t.payload)(n);case"CREATE_EMAILS_FROM_ARRAY":return(o=t.payload,e=>Array.isArray(o)?i(...o.map(l))(e):e)(n);case"DELETE_EMAIL":return(r=t.payload,e=>{if(!r)return e;const{emailIds:t,emailById:n}=e,o=t.indexOf(r);return-1===o?e:(t.splice(o,1),delete n[r],{...e})})(n);default:return n}var r,o,a};n(0);const u="EmailEditor-Input",p="EmailEditor-Editor",f="EmailEditor-ItemRemove",m="EmailEditor-Button--AddEmail",h="EmailEditor-Button--GetCount",E=()=>`\n    <button class="${f}">\n        \n    <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M8 0.8L7.2 0L4 3.2L0.8 0L0 0.8L3.2 4L0 7.2L0.8 8L4 4.8L7.2 8L8 7.2L4.8 4L8 0.8Z" fill="#050038"/>\n    </svg>\n\n    </button>\n`,y=e=>a(e)?`\n        <span class="EmailEditor-Item EmailEditor-Item--valid" data-key="${e}">\n            <span class="EmailEditor-ItemEllipsis">${e}</span>\n            ${E()}\n        </span>\n    `:`\n            <span class="EmailEditor-Item" data-key="${e}">\n                <span class="EmailEditor-Item--invalid EmailEditor-ItemEllipsis">${e}</span>\n                ${E()}\n            </span>\n        `,v=({render:e,setState:t,getState:n})=>i(e.updateInput,e.addEmailItem,t,s(n),()=>r(`${Math.random().toString().substring(2)}@email`)),b=({getState:e})=>()=>c(e()),g=({render:e,setState:t,getState:n})=>i(e.addEmailItem,e.removeEmailItem,t,s(n),o),I=(e,t)=>{const n=document.createRange().createContextualFragment(`\n    <div class="EmailEditor">\n        <div class="EmailEditor-Content">\n            <div class="EmailEditor-Title">\n                Share<b> Board name </b>with others\n            </div>\n            <div class="EmailEditor-Container">\n                <div class="${p}">\n                    <input class="${u}" type="text" placeholder="add more people..."></input>\n                </div>\n                <div class="EmailEditor-Container--spacer"></div>\n            </div>\n        </div>\n        <div class="EmailEditor-Action">\n            <button class="${m}">Add email</button>\n            <button class="${h}">Get emails count</button>\n        </div>\n    </div>\n`),a=n.querySelector(`.${u}`),d=n.querySelector(`.${p}`),l=n.querySelector(`.${m}`),f=n.querySelector(`.${h}`);a.onchange=(({render:e,setState:t,getState:n})=>i(e.updateInput,e.addEmailItem,t,s(n),e=>r(e.target.value)))(e),a.oninput=(({render:e,setState:t,getState:n})=>i(e.updateInput,e.addEmailItem,t,s(n),e=>{const{value:t}=e.target;return t.endsWith(",")||t.endsWith(" ")?r(e.target.value.slice(0,-1)):(e=>({type:"UPDATE_INPUT",payload:e}))(t)}))(e),a.onpaste=(({render:e,setState:t,getState:n})=>i(e.addEmailItem,t,s(n),e=>{const t=e.clipboardData.getData("text");return e.preventDefault(),o(t.split(","))}))(e),l.onclick=v(e),f.onclick=(({getState:e})=>()=>{window.alert(`Valid Emails: ${c(e()).length}`)})(e),d.onclick=(({render:e,setState:t,getState:n})=>i(e.removeEmailItem,t,s(n),e=>({type:"DELETE_EMAIL",payload:function(e,t){let n=null,r=e.target;for(;!n&&e.currentTarget!==r;)n=r.dataset[t],r=r.parentNode;return n}(e,"key")})))(e),t.appendChild(n)};function w(e,t){const n=[];let r=Object.freeze(t);const o=()=>r,i=((e,{getState:t})=>({updateInput:n=>{if(!n)return!1;const{inputValue:r}=t(),o=e.querySelector(".EmailEditor-Input");return o?(o.value=r,o.scrollIntoView(),!0):(console.error(`Unable to find either emailInput:[${!!o}] dom element`),!1)},removeEmailItem:n=>{if(!n)return!1;const{emailIds:r}=t(),o=e.querySelector(".EmailEditor-Editor");if(!o)return console.error(`Unable to find either emailEditor:[${!!o}] dom element`),!1;const i=o.childNodes,a=[];return i.forEach(e=>{const t=e.dataset&&e.dataset.key;t&&!r.includes(t)&&a.push(e)}),a.forEach(e=>o.removeChild(e)),!0},addEmailItem:n=>{if(!n)return!1;const{emailIds:r}=t(),o=e.querySelector(".EmailEditor-Editor"),i=e.querySelector(".EmailEditor-Input");if(!o)return console.error(`Unable to find either emailEditor:[${!!o}] dom element`),!1;const a=Array.from(o.childNodes).map(e=>e.dataset&&e.dataset.key).filter(e=>!!e),d=r.filter(e=>!a.includes(e));if(!d.length)return!0;const c=document.createRange().createContextualFragment(d.map(y).join(""));for(;c.children.length;)o.insertBefore(c.children.item(0),i);return!0}}))(e,{getState:o});return Object.freeze({render:i,setState:e=>{const t=r!==e;if(t){r=Object.freeze(e);const t=(o=e,JSON.parse(JSON.stringify(o)));n.forEach(e=>window.setTimeout(()=>e&&e(t),0))}var o;return t},getState:o,subscribe:e=>"function"!=typeof e?null:(n.push(e),(e=>()=>{const t=n.indexOf(e);n.splice(t,1)})(e))})}function O(e){const t=w(e,d),n=function(e){return{subscribe:e.subscribe,getEmails:b(e),setEmails:g(e)}}(t);return I(t,e),n}n.d(t,"addEmailEditor",(function(){return O}));t.default=O}])}));